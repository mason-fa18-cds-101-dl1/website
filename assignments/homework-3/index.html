<!doctype html>
<html class="no-js" lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CDS-101: Introduction to Computational and Data Sciences</title>
    <link rel="stylesheet" href="http://fall18.cds101.com/theme/css/cds101.min.css">
    <link rel="stylesheet" href="http://fall18.cds101.com/theme/css/custom.css">
      <link rel="stylesheet" href="http://fall18.cds101.com/theme/css/vendor/katex/katex.min.css">
      <link rel="stylesheet" href="http://fall18.cds101.com/theme/css/vendor/highlightjs/default.css">
      <link rel="stylesheet" href="http://fall18.cds101.com/theme/css/vendor/fontawesome/fa-svg-with-js.css">
      <link href="http://fall18.cds101.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="CDS-101: Introduction to Computational and Data Sciences Full Atom Feed" />
</head>  <body>
    <div class="header-grid-container">
<div class="banner-container">
  <header>
    <div class="banner">
      <div class="course-logo">
        <a href="http://fall18.cds101.com/"><img src="http://fall18.cds101.com/theme/img/course-logo.svg"></a>
      </div>
      <div class="university-logo">
        <a href="https://gmu.edu"><img src="http://fall18.cds101.com/theme/img/university-logo.svg"></a>
      </div>
    </div>
  </header>
</div>    </div>
<div class="navbar-container">
  <nav class="navbar">
    <div class="navbar-mobile" data-responsive-toggle="main-menu" data-hide-for="large">
      <button type="button" data-toggle="main-menu"><i class="fas fa-bars"></i><span class="navbar-mobile-title">Menu</span></button>
    </div>

    <div class="navbar-menu" id="main-menu">
      <ul class="navbar-menu-list">
        <li>
          <a class="navbar-home-item" href="http://fall18.cds101.com/"><i class="fas fa-home" data-fa-transform="grow-8"></i></a>
        </li>
            <li>
              <a class="navbar-menu-item" href="http://fall18.cds101.com/syllabus.html">Syllabus</a>
            </li>
            <li>
              <a class="navbar-menu-item" href="http://fall18.cds101.com/materials.html">Materials</a>
            </li>
            <li>
              <a class="navbar-menu-item" href="http://fall18.cds101.com/assignments.html">Assignments</a>
            </li>
            <li>
              <a class="navbar-menu-item" href="http://fall18.cds101.com/datasets.html">Datasets</a>
            </li>
          <li class="navbar-social">
            <ul class="navbar-social-list">
                <li>
                  <a class="navbar-social-item" href="https://github.com/mason-fa18-cds-101-dl1/website"><i class="fab fa-github" data-fa-transform="grow-8"></i></a>
                </li>
                <li>
                  <a class="navbar-social-item" href="http://masoncds101.slack.com"><i class="fab fa-slack" data-fa-transform="grow-8"></i></a>
                </li>
                <li>
                  <a class="navbar-social-item" href="feeds/all.atom.xml"><i class="fas fa-rss-square" data-fa-transform="grow-8"></i></a>
                </li>
            </ul>
          </li>
      </ul>
    </div>
  </nav>
</div>    <div class="content-grid-container">
    <article class="static-page">
<header class="static-page-header">
  <h1 class="static-page-title">Homework&nbsp;3</h1>
</header><div class="static-page-body">
  <p><span class="h3"><strong>Submissions due:</strong> November 27, 2018 @&nbsp;11:59pm</span></p>
<div class="no-bullets">
<ul>
<li><a href="https://classroom.github.com/a/QMRyOIeV"><i class="fab fa-github-alt" data-fa-transform="grow-8"></i>  Github Classroom repo for <strong>Homework&nbsp;3</strong></a></li>
</ul>
</div>
<h2 id="instructions">Instructions</h2>
<div class="callout secondary">
<p><span class="h4"><span class="caps">IMPORTANT</span>! <span class="caps">DO</span> <span class="caps">THIS</span> <span class="caps">FIRST</span>!</span></p>
<p>You <strong>must</strong> have the most up-to-date version of <span class="monospace">infer</span> installed on RStudio Server, otherwise the functions <code>shade_p_value()</code> and <code>shade_confidence_interval()</code> <strong>will not work.</strong> To get the most up-to-date version of <span class="monospace">infer</span>, run the following code in the <em>Console</em> window of RStudio&nbsp;Server:</p>
<pre class="r"><code>remotes::install_github(&quot;tidymodels/infer&quot;, ref = &quot;develop&quot;)</code></pre>
</div>
<p><a href="https://classroom.github.com/a/QMRyOIeV">Obtain the Github repository you will use to complete homework 3</a>, which contains a starter RMarkdown file named <span class="monospace">homework_3.Rmd</span>, which you will use to do your work and write-up when completing the questions below. Be sure to save, commit, and push (upload) frequently to Github so that you have incremental snapshots of your work. When you’re done, follow the <a href="#how-to-submit"><strong>How to submit</strong> section</a> below to setup a Pull Request, which will be used for&nbsp;feedback.</p>
<ul>
<li><p>Remember that the point of us using RMarkdown documents is to combine code and writeups! Each block of R code should have some sort of explanation or justification using full&nbsp;sentences.</p></li>
<li><p><strong>Your grade will take into account your code, your explanations, and whether your document looks nice when “knitted” to <span class="caps">PDF</span></strong>.</p></li>
</ul>
<h2 id="about-the-dataset">About the&nbsp;dataset</h2>
<p>This homework uses the <em>National Survey of Family Growth, Cycle 6</em> dataset in the file <span class="monospace">2002FemPreg.rds</span>, published by the National Center for Health Statistics. Complete descriptions of all the variables can be found in the <a href="http://www.icpsr.umich.edu/nsfg6/Controller?displayPage=codeBook&amp;fileCode=PREG&amp;section=&amp;subSec="><span class="caps">NSFG</span> Cycle 6: Female Pregnancy File Codebook</a>. Below are selected descriptions of variables that will be used for this homework&nbsp;assignment:</p>
<table>
<colgroup>
<col style="width: 21%" />
<col style="width: 78%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Variable</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span class="monospace">caseid</span></td>
<td style="text-align: left;">integer <span class="caps">ID</span> of the respondent</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="monospace">prglngth</span></td>
<td style="text-align: left;">integer duration of the pregnancy in weeks</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="monospace">outcome</span></td>
<td style="text-align: left;">integer code for the outcome of the pregnancy, with a 1 indicating a live birth</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="monospace">birthord</span></td>
<td style="text-align: left;">serial number for live births; the code for a respondent’s first child is 1, and so on. For outcomes other than live birth, this field is blank</td>
</tr>
</tbody>
</table>
<h2 id="questions">Questions</h2>
<p>This homework assignment revolves around answering the following question using this&nbsp;dataset:</p>
<blockquote>
<p>Do first born children either arrive early or late when compared with&nbsp;non-first-borns?</p>
</blockquote>
<p>The questions in this assignment will guide you through the process of answering this question using statistical&nbsp;inference.</p>
<ol class="example" type="1">
<li><p>Addressing the question <em>“do first born children either arrive early or late when compared with non-first-borns?”</em> means that we should only consider live births in the dataset. Filter the dataset so that it only contains outcomes with live births and assign this result to the variable <code>live_births</code>.</p>
<p>Next, we need to label all births in <code>live_births</code> as either “first” or “other” so that we can easily find the children that are first borns and the ones that are not. There are a couple of different ways that you can label the&nbsp;births:</p>
<ul>
<li><p>Split the dataset into two parts, a <code>first_births</code> dataset and an <code>other_births</code> dataset. Do this by applying a filter to extract the first births, then use <code>mutate()</code> to create a new column called <code>birth_order</code> that labels these rows as “first”. Then repeat this process, except apply a filter to extract all other births and label those as “other” in <code>birth_order</code>. To recombine the datasets into one, use <code>bind_rows()</code>.</p></li>
<li><p>Use <code>if_else()</code> with <code>mutate()</code> to create the <code>birth_order</code> column and the “first” and “other” labels. You can also try using <code>case_when()</code> instead of <code>if_else()</code> to accomplish this. If you do it this way, you won’t need to use <code>bind_rows()</code>.</p></li>
</ul>
<p>After labeling the births, remove the extraneous variables from the data frame leaving just the <code>prglngth</code> and <code>birth_order</code> columns. Assign the resulting data frame to a variable named <code>pregnancy_length</code>.</p></li>
<li><p>Take the <code>pregnancy_length</code> dataset and plot a probability mass function (<span class="caps">PMF</span>) histogram of the pregnancy length in weeks that shows “first” births and “other” births on the same plot. Choose a reasonable binwidth for the histogram and add <code>coord_cartesian(xlim = combine(27, 46))</code> to your plot so that the window focuses where most of the data is. <strong>After creating the plot, describe the shape, center, and spread of the two distributions</strong>. Based on the visualization, do you think the data looks like it supports the statement that “first born children either arrive early or arrive late when compared with&nbsp;non-first-borns”?</p></li>
<li><p>Group the variable <code>prglngth</code> into “first” and “other” births and compute the summary statistics (mean, median, standard deviation, inter-quartile range, minimum, maximum) for each group. How do the different summary statistics compare between the two distributions? Does it look like there may be a notable difference between the two distributions?&nbsp;Explain.</p></li>
<li><p>Plot the cumulative distribution functions (CDFs) of the pregnancy lengths for “first” and “other” births. The <span class="caps">CDF</span> for both distributions should be on the same figure so that we can directly compare them (<strong>hint:</strong> they should be two different colors and partially transparent). How do the distributions compare? Does it look like there is there a meaningful difference between the two&nbsp;distributions?</p></li>
<li><p>If we want to determine whether or not the difference between two distributions is statistically significant, we need to run a hypothesis test. Formalize your analysis by writing down the null hypothesis for the question of whether first babies arrive early or arrive late when compared with non-first-borns. It should be clear from how you write your null hypothesis whether you’re conducting a <strong>one-sided</strong> or <strong>two-sided</strong> hypothesis test. You should also restate what the <strong>observed value</strong> is (this will be a number you compute using the data in <code>prglngth</code>) that you will be comparing against the null&nbsp;distribution.</p></li>
<li><p>Use a simulation to generate the null distribution so that you can perform the hypothesis test. Do this using the functions provided in the <code>infer</code> package, <code>specify()</code>, <code>hypothesize()</code>, <code>generate()</code>, and <code>calculate()</code>. To collect enough statistics, you should set the simulation to repeat 10,000&nbsp;times.</p>
<p>Once you’ve obtained the null distribution, get the <em>p</em>-value for your hypothesis test using <code>get_pvalue()</code>. Assuming a significance level of <span class="math inline">\(\alpha = 0.05\)</span>, state whether we can we reject the null&nbsp;hypothesis.</p>
<p>Finally, visualize the simulated null distribution using <code>visualize()</code> and the meaning of the <em>p</em>-value using <code>shade_p_value()</code>.</p></li>
<li><p>Use a bootstrap simulation to calculate the 95% confidence interval for your <strong>observed value</strong>. Do this using the following functions from the <code>infer</code> package, <code>specify()</code>, `<code>generate()</code>, and <code>calculate()</code>. To collect enough statistics, you should set the bootstrap simulation to repeat 10,000&nbsp;times.</p>
<p>Once you’ve obtained the bootstrap distribution, use <code>get_confidence_interval()</code> to find the upper and lower bounds of the 95% confidence interval. Does the value corresponding to the null result fall within the range of the 95% confidence&nbsp;interval?</p>
<p>Finally, visualize the bootstrap distribution using <code>visualize()</code> and show the 95% confidence interval using <code>shade_confidence_interval()</code>.</p></li>
<li><p>In addition to hypothesis tests and confidence intervals, we should also consider the <strong>effect size</strong>, which measures the relative difference between two distributions. The effect size helps us better know how important a given result actually is, not just whether or not we can reject the null hypothesis. One measure of the effect size is called <a href="https://en.wikipedia.org/wiki/Effect_size#Cohen.27s_d">Cohen’s <em>d</em></a> (<a href="https://en.wikipedia.org/wiki/Effect_size#Cohen.27s_d" class="uri">https://en.wikipedia.org/wiki/Effect_size#Cohen.27s_d</a>), which we will use to compute the effect size between the pregnancy lengths for “first” and “other” births. The different ranges of <em>d</em> can be interpreted using the following&nbsp;table:</p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Effect size</th>
<th style="text-align: left;">d</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Very small</td>
<td style="text-align: left;">0.01</td>
</tr>
<tr class="even">
<td style="text-align: left;">Small</td>
<td style="text-align: left;">0.20</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Medium</td>
<td style="text-align: left;">0.50</td>
</tr>
<tr class="even">
<td style="text-align: left;">Large</td>
<td style="text-align: left;">0.80</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Very large</td>
<td style="text-align: left;">1.20</td>
</tr>
<tr class="even">
<td style="text-align: left;">Huge</td>
<td style="text-align: left;">2.00</td>
</tr>
</tbody>
</table>
<p>The following set of functions should also be preloaded for you: <code>cohens_d_bootstrap()</code>, <code>bootstrap_report()</code>, and <code>plot_ci()</code>. These functions will use bootstrap simulations to compute the confidence interval for the Cohen’s <em>d</em> parameter. Run the bootstrap simulation as follows (you can just copy and paste this&nbsp;code):</p>
<pre class="r"><code>cohens_d_bootstrap(data = pregnancy_length, model = prglngth ~ birth_order)</code></pre>
<p><strong>Be sure to assign the results to a variable</strong>, for example <code>bootstrap_results</code>.</p>
<p>To print a report for the bootstrap simulation,&nbsp;run:</p>
<pre class="r"><code>bootstrap_report(bootstrap_results)</code></pre>
<p>To visualize the bootstrap distribution and confidence interval,&nbsp;run:</p>
<pre class="r"><code>plot_ci(bootstrap_results)</code></pre>
<p>Using the provided table, report how large the effect size is for the difference in pregnancy lengths for “first” and “other”&nbsp;births.</p></li>
</ol>
<h2 id="how-to-submit">How to&nbsp;submit</h2>
<p>When you are ready to submit, be sure to save, commit, and push your final result so that everything is synchronized to GitHub. Then, knit your R Markdown document to <span class="caps">PDF</span>, export (download) the file from RStudio Server, and upload it to the Homework 3 posting on&nbsp;Blackboard.</p>
<p>You are to also open a Pull Request on GitHub so that comments can be directly left on your R Markdown source files. After uploading to Blackboard, navigate to <strong>your copy</strong> of the [GitHub repository][github-classroom] you used for this assignment. You should see your repository, along with the updated files that you synchronized to GitHub. Do the&nbsp;following:</p>
<ol type="1">
<li><p>Click the <em>Pull Requests</em> tab near the top of the&nbsp;page.</p></li>
<li><p>Click the green button that says “New pull&nbsp;request”.</p></li>
<li><p>Click the dropdown menu button labeled “base:”, and select the option <code>grading</code>.</p></li>
<li><p>Confirm that the dropdown menu button labeled “compare:” is set to <code>master</code>.</p></li>
<li><p>Click the green button that says “Create pull&nbsp;request”.</p></li>
<li><p>Give the <em>pull request</em> the following title: <span class="monospace">Submission: Homework 3, FirstName LastName</span>, replacing <span class="monospace">FirstName</span> and <span class="monospace">LastName</span> with your actual first and last&nbsp;name.</p></li>
<li><p>In the messagebox, write: <span class="monospace">My homework submission is ready for grading @jkglasbrenner</span>.</p></li>
<li><p>Click “Create pull request” to lock in your&nbsp;submission.</p></li>
</ol>
<h2 id="cheatsheets">Cheatsheets</h2>
<p>You are encouraged to review and keep the following cheatsheets handy while working on this&nbsp;assignment:</p>
<ul>
<li><p><a href="/doc/rstudio-IDE-cheatsheet.pdf">RStudio&nbsp;cheatsheet</a></p></li>
<li><p><a href="/doc/rmarkdown-cheatsheet.pdf">RMarkdown&nbsp;cheatsheet</a></p></li>
<li><p><a href="/doc/rmarkdown-reference.pdf">RMarkdown&nbsp;reference</a></p></li>
<li><p><a href="/doc/ggplot2-cheatsheet.pdf"><span class="monospace">ggplot2</span>&nbsp;cheatsheet</a></p></li>
<li><p><a href="/doc/data-transformation-cheatsheet.pdf">Data transformation&nbsp;cheatsheet</a></p></li>
<li><p><a href="/doc/data-import-cheatsheet.pdf">Data import&nbsp;cheatsheet</a></p></li>
</ul>

</div>    </article>
    </div>
<footer class="page-footer">
    <div class="footer-grid-container">
      Except where otherwise noted, site materials are created by
      <a href="https://cos.gmu.edu/cds/faculty-profile-james-glasbrenner/">
        James K. Glasbrenner
      </a>
      and licensed under a
      <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">
        Creative Commons Attribution-ShareAlike 4.0 International License
      </a>.
    </div>
</footer><script src="http://fall18.cds101.com/theme/js/cds101.min.js"></script>
  <script src="http://fall18.cds101.com/theme/js/vendor/highlightjs/highlight.min.js"></script>
  <script src="http://fall18.cds101.com/theme/js/vendor/katex/katex.min.js"></script>
  <script src="http://fall18.cds101.com/theme/js/vendor/katex/contrib/auto-render.min.js"></script>
  <script src="http://fall18.cds101.com/theme/js/vendor/wookmark/wookmark.min.js"></script>
  <script src="http://fall18.cds101.com/theme/js/vendor/fontawesome/fontawesome-all.min.js"></script>
  <script src="http://fall18.cds101.com/theme/js/vendor/vendorInit.js"></script>
  </body>
</html>